{"version":3,"sources":["Firebase.js","Admin.js","Client.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Admin","props","handleChange","event","target","getAttribute","setState","title","value","content","linkIcon","link","handleSubmit","preventDefault","database","ref","set","state","body","announced","icon","error","console","log","bind","onSubmit","this","className","htmlFor","type","name","id","placeholder","required","onChange","React","Component","Client","document","addEventListener","Notification","permission","requestPermission","on","snapshot","data","val","undefined","window","location","port","onclick","open","alert","ReactDOM","render","StrictMode","to","exact","path","getElementById"],"mappings":"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","file":"static/js/main.8a6e91a5.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyCfLGCqfahO0oLwUfNaWlHeIymI6Z-Vx0Q\",\r\n  authDomain: \"cd-testteamc.firebaseapp.com\",\r\n  databaseURL: \"https://cd-testteamc.firebaseio.com\",\r\n  projectId: \"cd-testteamc\",\r\n  storageBucket: \"cd-testteamc.appspot.com\",\r\n  messagingSenderId: \"1026888844209\",\r\n  appId: \"1:1026888844209:web:6830cb1aa03f7967b6f390\",\r\n  measurementId: \"G-SW5WFPB8DM\"\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;","import React from 'react';\nimport firebase from './Firebase';\n\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: 'Title',\n      content: 'Content',\n      linkIcon: 'link-icon',\n      link: 'link'\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange = event => {\n    let nameValue = event.target.getAttribute('name');\n\n    switch (nameValue) {\n      case 'title':\n        this.setState({ title: event.target.value })\n        break;\n      \n      case 'content':\n        this.setState({\n          content: event.target.value,\n        })\n        break;\n      \n      case 'icon':\n        this.setState({\n          linkIcon: event.target.value,\n        })\n        break;\n      \n      case 'link':\n        this.setState({\n          link: event.target.value,\n        })\n        break;\n      \n      default:\n        break;\n    }\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    firebase.database().ref('notification').set({\n      title: this.state.title,\n      // title: \"26 thuyền viên mất tích trong cơn bão số 9\",\n      body: {\n        announced: false,\n        body: this.state.content,\n        // body: \"Lúc 23h, Ban Chỉ đạo tiền phương ứng phó với bão số 9 thông tin việc 2 tàu bị chìm hiện vẫn chưa được tìm thấy. Trên 2 tàu có tổng cộng 26 thuyền viên.\",\n        icon: this.state.linkIcon\n        // icon: \"https://znews-photo.zadn.vn/w660/Uploaded/ovhpaob/2020_10_27/122902129_1293985654282396_5753399521511307846_n.jpg\" \n      },\n      link: this.state.link\n      // link: \"https://zingnews.vn/26-thuyen-vien-mat-tich-trong-con-bao-so-9-post1146480.html\"\n    }, function (error) {\n      if (error) {\n        console.log('error');\n      } else {\n        // Data saved successfully!\n        console.log('successfully');\n      }\n    });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} >\n        <div className=\"form-group\">\n          <label htmlFor=\"titleNotification\">Title</label>\n          <input type=\"text\" name=\"title\" className=\"form-control\" id=\"titleNotification\" placeholder=\"Enter title notification\" required onChange={this.handleChange} />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"bodyContentNotification\">Content Notification</label>\n          <textarea type=\"text\" name=\"content\" className=\"form-control\" id=\"bodyContentNotification\" placeholder=\"Enter content notification\" required onChange={this.handleChange} />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"linkIconNotification\">Link Icon</label>\n          <input type=\"text\" name=\"icon\" className=\"form-control\" id=\"linkIconNotification\" placeholder=\"Enter link icon notification\" required onChange={this.handleChange} />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"linkNotification\">Link Notification</label>\n          <input type=\"text\" name=\"link\" className=\"form-control\" id=\"linkNotification\" placeholder=\"Enter link notification\" required onChange={this.handleChange} />\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-primary\">Submit Notification</button>\n      </form>\n    );\n  }\n}\n\nexport default Admin;\n","import React from 'react';\r\nimport firebase from './Firebase';\r\n\r\nclass Client extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        Client\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n// request permission on page load\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  if (!Notification) {\r\n    alert('Desktop notifications not available in your browser. Try Chromium.');\r\n    return;\r\n  }\r\n  if (Notification.permission !== 'granted')\r\n    Notification.requestPermission();\r\n\r\n  let myFirebaseNotification = firebase.database().ref('/notification/');\r\n  myFirebaseNotification.on('value', function (snapshot) {\r\n    const data = snapshot.val();\r\n    if (data == null || data === undefined) {\r\n      return;\r\n    }\r\n    if (!data.body.announced) {\r\n      let widget = new Notification( `form post: ${window.location.port}` + data.title, {\r\n        body: data.body.body,\r\n        icon: data.body.icon\r\n      });\r\n      widget.onclick = function (event) {\r\n        window.open(data.link, '_blank');\r\n      }\r\n      firebase.database().ref('/notification/').set({\r\n        title: data.title,\r\n        body: {\r\n          announced: true,\r\n          body: data.body.body,\r\n          icon: data.body.icon\r\n        },\r\n        link: data.link\r\n      }, function (error) {\r\n        if (error) {\r\n          console.log('error');\r\n        } else {\r\n          // Data saved successfully!\r\n          console.log('update announced successfully');\r\n        }\r\n      });\r\n    }\r\n  });\r\n});\r\n\r\nexport default Client;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport Admin from './Admin';\nimport Client from './Client';\n\nimport 'css-loader/dist/cjs';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './style.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n\n      \n    <Link to=\"/client\">\n      <button className=\"btn btn-primary\">Client</button>\n    </Link>\n  \n    <Link to=\"/admin\">\n      <button className=\"btn btn-danger\">Admin</button>\n    </Link>\n       \n\n      <Switch>\n        <Route exact path=\"/admin\">\n          <Admin />\n        </Route>\n        <Route path=\"/client\">\n          <Client />\n        </Route>\n      </Switch>\n    </Router>\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}